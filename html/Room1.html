<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=VT323&display-swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/pilgrimage.css">
    <link rel="stylesheet" href="../css/timer.css" />
    <link rel="stylesheet" href="../css/room1.css">
    <link rel="stylesheet" href="../css/hud.css">
    <link rel="stylesheet" href="../css/slidePuzzle.css" />
    <link rel="stylesheet" href="../css/crystalariumPuzzle.css" />
    <link rel="stylesheet" href="../css/doorPuzzle.css" />
    <link rel="stylesheet" href="../css/inventory.css" />
    <link rel="stylesheet" href="../css/computer.css">
    <title>Room 1 (Door Room)</title>
</head>
<body id="room1-background">
    <div class="timer"></div>

    <div class="right-arrow-room" onclick="jumpToCorridor(3,1)"></div>

    <div class="left-arrow-room" onclick="jumpToRoom(4)"></div>

    <div id="door-glow"></div>

    <div id="small-box-glow"></div>

    <div id="big-box-glow"></div>

    <div id="computer-glow"></div>

    <div class="modal-puzzle" id="modal-puzzle-box">
        <div id="jm-1">
            <h1 id="msg-slide">Turn: <span id="slideTurns"></span></h1>
            <div id="container-slide">
                
              <div id="game-slide">
        
              </div>
        </div>
        </div>
        <div>
            <button class="close-modal-btn" id="big-box-puzzle-close-btn">CLOSE</button>
        </div>
    </div>
    <div class="modal-puzzle" id="modal-puzzle-small-box">
        <div id="game-container-crystal">
            <div id="screen-crystal">
                <h1 id="h1-crystal" class="text-crystal">CRYSTALARIUM</h1>
                <div id="objetivo-crystal" class="text-crystal"></div>
                <div id="botones-crystal"></div>
            </div>
        </div>
    </div>
    <div class="modal-puzzle" id="modal-puzzle-door">
        <div id="door-puzzle-container">

        </div>
        <div>
            <button class="close-modal-btn" id="door-puzzle-close-btn">CLOSE</button>
        </div>
    </div>
    
    <div class="modal-puzzle" id="modal-puzzle-computer">
        <div id="screen-computer">
            <img src="../resources/img/PC/scanlines.png" id="scan-computer"class="noselect"/>
            <img src="../resources/img/PC/bezel.png" id="bezel-computer" class="noselect"/>
            <div id="content-computer" class="noselect">
              <div id="attempts">
              </div> <!-- Contenedor para intentos -->
              <div id="word-container-computer"></div> <!-- Contenedor para palabras -->
    
              <div id="computer" style="display: none;">
                <h2>Computer</h2>
                <div id="computer-entries">
                  <div class="entry-computer" data-key="1">Phobos, 4998</div>
                  <div class="entry-computer" data-key="2">Ceres, 4999</div>
                  <div class="entry-computer" data-key="3">Titania, 4999</div>
                  <div class="entry-computer" data-key="4">ADMIN ONLY</div>
                  <div class="entry-computer" data-key="5">Mail</div>
                </div>
            </div>
            </div>       
        </div>
        <div>
            <button class="close-modal-btn" id="computer-puzzle-close-btn">CLOSE</button>
        </div>
    </div>

    <div id="background-overlay"></div>
    
</body>
<script src="../js/timer.js"></script>
<script src="../js/inventory.js"></script>
<script src="../js/hud.js"></script>
<script src="../js/modalOpener.js"></script>
<script src="../js/slidePuzzle.js"></script>
<script src="../js/crystalariumPuzzle.js"></script>
<script src="../js/doorPuzzle.js"></script>
<script src="../js/computerPuzzle.js"></script>
<script>
    
    document.addEventListener("DOMContentLoaded", ()=>{
        if(JSON.parse(localStorage.getItem("firstDialog"))!=1){
            showDialog(
            `As I walked down the vast corridor of the spaceship, I could hear the rumble of jeeps' wheels fading into the distance, leaving me stranded in the heart of our civilization. Despite this, what truly tightened the knot in my throat was the possibility of never seeing any of them again. Nine of the finest Beacon bearers were out there, buying me precious minutes against the enemy. Among them was my own father.
            
            I need to open the large door at the end of this corridor. I estimate they can buy me an hour of time. We've struggled to gather all the necessary clues, but I should be able to crack the code.`,
            `SILA (${JSON.parse(localStorage.getItem("username"))})`,
            "../resources/sprites/Sila/Sila_asustada.png"
          );
          localStorage.setItem("firstDialog", JSON.stringify(1));
        }
    });

    //El siguiente script hace que no puedas hacer zoom en la pagina
    window.addEventListener("wheel", (e)=>{
        if(e.ctrlKey){
            e.preventDefault();
        }
    }, {passive:false});

    //Funciones para saltar
    function jumpToRoom(i){
        window.location.href = `Room${i}.html`;
    }

    function jumpToCorridor(i,j){
        window.location.href = `puzzleCorridor.html?fromRoom=${j}&boolRoom=${i}`;
    }
</script>
</html>