<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/hud.css" />
    <link rel="stylesheet" href="../css/pilgrimage.css" />
    <link rel="stylesheet" href="../css/timer.css" />
    <link rel="stylesheet" href="../css/inventory.css" />
    <link rel="stylesheet" href="../css/styleCorridor.css" />
    <title>Room 2 (Corridor)</title>
  </head>
  <body id="corridor-background" onload="createMaze()">
    <div class="timer"></div>
    <div class="container-corridor">
      <div id="corridor-controlls-container">
        <button id="enterRoom" class="close-modal-btn">Go back in</button>
        <div id="corridor-tutorial"></div>
      </div>
      <div id="jm-2">
        <div id="maze-container"></div>
      </div>
    </div>
    <div id="background-overlay"></div>
  </body>
  <script src="../js/timer.js"></script>
  <script src="../js/hud.js"></script>
  <script src="../js/inventory.js"></script>
  <script src="../js/corridorPuzzle.js"></script>
  <script src="../js/modalOpener.js"></script>
  <script>
    //El siguiente script hace que no puedas hacer zoom en la pagina
    window.addEventListener(
      "wheel",
      (e) => {
        if (e.ctrlKey) {
          e.preventDefault();
        }
      },
      { passive: false }
    );
    document.addEventListener("DOMContentLoaded", () => {
      if (document.referrer.includes("Room1.html")) {
        showDialog(
          "This way leads to the jeep they've left for me. I think I might find something interesting inside it... Damn, there's a huge radiation leak in the next room, so I'll need to put on the suit. I don't think the safety hatch on the other side will open until the radiation clears, so I'll have to be careful where I step until then. Fortunately, the emergency system is fully operational, and I'll be able to move all the contamination to the adjacent chamber, but I'll need to bring it back to this corridor if I want to return.",
          `SILA (${JSON.parse(localStorage.getItem("username"))})`,
          "../resources/sprites/Sila/Sila_sorprendida.png"
        );
      }
    });
  </script>
</html>
